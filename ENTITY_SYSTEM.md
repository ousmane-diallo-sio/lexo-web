# Generic Entity Management System## OverviewInstead of having separate pages for each entity type, we now have a generic **EntityPage** component that can display any entity type based on configuration. This dramatically reduces code duplication and makes it easy to add new entity types.Currently implemented for **Users** management, but the system is designed to be easily extensible for any future entity types you might need.## Architecture### 1. Entity Configuration SystemEach entity type has a configuration file in `/src/config/entities/` that defines:- **API endpoints** and display names- **Form fields** with validation rules- **Table columns** and custom renderers- **Detail view fields**- **Available actions** (create, edit, delete, view)**Example**: `/src/config/entities/users.tsx````tsxexport const userEntityConfig: EntityConfig<User> = {  name: 'user',  namePlural: 'users',  apiEndpoint: 'users',  displayName: 'User',  displayNamePlural: 'Users',  primaryKey: 'id',  fields: [...],        // Form fields  tableColumns: [...],  // Table display  detailFields: [...],  // Detail view  actions: {            // Available operations    create: true,    edit: true,    delete: true,    view: true  }};```### 2. Generic Components#### EntityPage (`/src/pages/EntityPage.tsx`)- Generic page component that works with any entity type- Handles CRUD operations (Create, Read, Update, Delete)- Manages state for modals, loading, and data fetching- Uses React Query for data management- Displays data in tables with action buttons#### EntityForm (`/src/components/forms/EntityForm.tsx`)- Generic form component that generates forms based on entity configuration- Supports various field types: text, email, password, date, boolean, select, textarea- Handles validation using Zod schemas generated from field config- Manages form state with react-hook-form### 3. Current Implementation#### Users Management (`/src/pages/users/NewUsersPage.tsx`)```tsximport { EntityPage } from '../EntityPage';import { userEntityConfig } from '../../config/entities/users';import type { User } from '../../types';export function UsersPage() {  return <EntityPage<User> config={userEntityConfig} />;}```**Features:**- Complete user management with admin privileges- Email verification status display- Google OAuth integration support- Form validation and error handling- Responsive design with drawer-based modals## Current Entity Types1. **Users** (`/users`)   - User management with admin privileges   - Email verification status   - Google OAuth integration   - All CRUD operations supported## Adding a New Entity Type (Future Use)### Step 1: Define the Entity Interface```tsx// /src/types/index.ts or entity config fileexport interface MyEntity extends BaseEntity {  id: string;  name: string;  // ... other fields  createdAt: Date;  updatedAt: Date;}```### Step 2: Create Entity Configuration```tsx// /src/config/entities/my-entity.tsxexport const myEntityConfig: EntityConfig<MyEntity> = {  name: 'myentity',  namePlural: 'myentities',  apiEndpoint: 'my-entities',  displayName: 'My Entity',  displayNamePlural: 'My Entities',  primaryKey: 'id',  fields: [    {      key: 'name',      label: 'Name',      type: 'text',      required: true,      validation: { min: 3, max: 50 }    }    // ... more fields  ],  tableColumns: [    { key: 'name', label: 'Name' }    // ... more columns  ],  actions: {    create: true,    edit: true,    delete: true,    view: true  }};```### Step 3: Create Page Component```tsx// /src/pages/my-entity/MyEntityPage.tsximport { EntityPage } from '../EntityPage';import { myEntityConfig, type MyEntity } from '../../config/entities/my-entity';export function MyEntityPage() {  return <EntityPage<MyEntity> config={myEntityConfig} />;}```### Step 4: Add Route```tsx// /src/App.tsx<Route  path="/my-entities"  element={    <ProtectedRoute>      <MainLayout>        <MyEntityPage />      </MainLayout>    </ProtectedRoute>  }/>```### Step 5: Add Navigation```tsx// /src/components/layout/MainLayout.tsx<Link to="/my-entities" className="...">My Entities</Link>```## Features### Automatic Features for All Entities- **Data Table** with sorting and pagination- **CRUD Operations** (Create, Read, Update, Delete)- **Form Validation** based on field configuration- **Loading States** and error handling- **Toast Notifications** for success/error feedback- **Responsive Design** with drawer-based modals- **Accessibility** with focus management and ARIA labels### Field Types Supported- `text` - Basic text input- `email` - Email input with validation- `password` - Password input (hidden)- `date` - Date picker- `boolean` - Checkbox- `select` - Dropdown with options- `textarea` - Multi-line text input### Custom RenderersYou can provide custom rendering functions for table columns and detail fields:```tsx{  key: 'status',  label: 'Status',  render: (value: unknown) => (    value ? (      <span className="badge-green">Active</span>    ) : (      <span className="badge-gray">Inactive</span>    )  )}```## Benefits1. **Consistency** - All entity pages look and behave the same way2. **Maintainability** - Bug fixes and features apply to all entities3. **Rapid Development** - New entities can be added in minutes4. **Type Safety** - Full TypeScript support with proper generics5. **Flexibility** - Easy to customize specific entities when needed6. **DRY Principle** - No code duplication between entity pages## Migration from Specific PagesThe old `UsersPage.tsx` has been replaced with `NewUsersPage.tsx` which uses the generic system. The functionality is identical but with much less code:- **Before**: ~400+ lines of entity-specific code- **After**: ~6 lines that import and configure the generic componentThis same pattern can be applied to any other entity-specific pages you might need in the future.## Current StateThe system is currently focused on **Users** management but provides a solid foundation for adding any additional entity types you might need later. The generic components (`EntityPage` and `EntityForm`) are fully implemented and ready to handle new entity types with minimal configuration.